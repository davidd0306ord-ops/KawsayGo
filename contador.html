<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Progreso - KawsayGo</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #004d40, #00695c);
            margin: 0;
            padding: 0;
            color: white;
            text-align: center;
        }

        .container {
            margin-top: 40px;
            padding: 20px;
        }

        h1 {
            font-size: 2.4em;
            margin-bottom: 10px;
        }

        .contador {
            font-size: 4.5em;
            font-weight: bold;
            margin: 20px 0;
        }

        button {
            padding: 15px 20px;
            margin: 10px;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            cursor: pointer;
            transition: 0.3s;
            font-weight: bold;
        }

        .reiniciar {
            background: #ff5252;
            color: white;
        }

        .reiniciar:hover {
            background: #ff867c;
        }

        .sumar {
            background: #a5d6a7;
            color: #004d40;
        }

        .sumar:hover {
            background: #c8e6c9;
        }

        .mensaje {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            margin-top: 25px;
            border-radius: 12px;
            font-size: 1.2em;
        }

        .diagnostico-info {
            margin-top: 15px;
            font-size: 0.9em;
            opacity: 0.8;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Tu Progreso</h1>

    <div class="contador" id="dias">0</div>
    <p>D√≠as sin recaer</p>

    <button class="sumar" onclick="sumarDia()">‚úî Marcar d√≠a completado</button>
    <button class="reiniciar" onclick="reiniciar()">üîÑ Reca√≠‚Ä¶ reiniciar contador</button>

    <div class="mensaje" id="mensajeMotivacional">
        Cargando tu energ√≠a...
    </div>

    <div class="diagnostico-info" id="infoDiag"></div>
</div>


<script>
// Cargar contador
function cargarDias() {
    let dias = localStorage.getItem("contadorKawsayGo");
    if (!dias) dias = 0;
    document.getElementById("dias").textContent = dias;
}
cargarDias();

// Sumar d√≠a
function sumarDia() {
    let dias = parseInt(localStorage.getItem("contadorKawsayGo") || 0);
    dias++;
    localStorage.setItem("contadorKawsayGo", dias);
    cargarDias();
    actualizarMensaje();
}

// Reiniciar
function reiniciar() {
    if (confirm("¬øSeguro que quieres reiniciar tu contador?")) {
        localStorage.setItem("contadorKawsayGo", 0);
        cargarDias();
        actualizarMensaje();
    }
}

// Mensajes motivacionales
function actualizarMensaje() {

    const dias = parseInt(localStorage.getItem("contadorKawsayGo") || 0);

    let mensajes = [
        "Cada d√≠a eres m√°s fuerte. Mantente firme.",
        "Tu energ√≠a regresa a ti. Sigue avanzando.",
        "No se trata de ser perfecto, sino constante.",
        "Hoy ganaste. Ma√±ana tambi√©n puedes hacerlo.",
        "La disciplina es el puente entre tus sue√±os y tu realidad."
    ];

    let mensajeFinal = mensajes[Math.floor(Math.random() * mensajes.length)];

    // Personalizaci√≥n seg√∫n diagn√≥stico
    const diag = JSON.parse(localStorage.getItem("diagnosticoKawsayGo") || "{}");

    if (diag.causa === "estres") mensajeFinal += " ‚Äî Recuerda: respira, el estr√©s no te controla.";
    if (diag.causa === "soledad") mensajeFinal += " ‚Äî No est√°s solo, esto es un proceso contigo mismo.";
    if (diag.causa === "contenido") mensajeFinal += " ‚Äî Evita los est√≠mulos visuales que activan tus impulsos.";
    if (diag.hora === "noche") mensajeFinal += " ‚Äî Cuida tus noches, son tu punto vulnerable.";

    document.getElementById("mensajeMotivacional").textContent = mensajeFinal;

    // Mostrar diagn√≥stico resumido
    document.getElementById("infoDiag").textContent =
        `Tus reca√≠das suelen ser: ${diag.frecuencia || 'N/A'} | Impulso: ${diag.impulso || 'N/A'} | Hora cr√≠tica: ${diag.hora || 'N/A'}`;
}

actualizarMensaje();
</script>

</body>
</html>
